extends user_unit_common
block user_actions
    div(id="user-actions-#{user_unit.id}")
        - if(user_unit.userRelation){
            - if(user_unit.userRelation === 'FRIEND') {

            - } else if(user_unit.userRelation === 'FRIEND_REQUEST_PENDING') {
                - if(user_unit_action && user_unit_action === 'pending_frind_process') {
                    button(class="btn btn-primary pull-right", id="confirm-a-friend-#{user_unit.id}") Confirm
                    script
                        $("#confirm-a-friend-#{user_unit.id}").click(function(){var posting = $.post('/api/users/#{user_unit.id}/friend/confirm','application/json'); posting.done(function(data){$('#user-actions-#{user_unit.id}').html(data)})})
                -} else {
                    button(class="js-add-member btn btn-success pull-right")
                        span Friend Req Sent
                - }
            - }
        - } else {
            - if(user_unit_action && user_unit_action === 'member') {
                button(class="js-add-member btn btn-primary pull-right", data-target="#{user_unit.id}", data-target-group="#{groupId}", id="add-member-group-#{user_unit.id}")
                    span Add Member
                script
                    $("#add-member-group-#{user_unit.id}").click(function(event){var posting = $.post('/api/group/#{groupId}/user/#{user_unit.id}'); posting.done(function(data){$('#user-actions-#{user_unit.id}').html(data)})})
            - } else {
                button(class="btn btn-primary pull-right js-add-friend", data-target="#{user_unit.id}", id="add-friend-#{user_unit.id}")
                    span Add Friend
                script
                    $("#add-friend-#{user_unit.id}").click(function(event){var posting = $.post('/api/users/#{user_unit.id}/friend'); posting.done(function(data){console.log(data);$('#user-actions-#{user_unit.id}').html(data)})});
            - }
        - }
